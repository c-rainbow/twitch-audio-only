/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
var __webpack_exports__ = {};

;// CONCATENATED MODULE: ./src/clientIdManager.ts
// Code shared by both service workers and content script
const TWITCH_CLIENT_ID_KEY = 'twitchClientId';
async function getTwitchClientId() {
    const result = await chrome.storage.local.get([TWITCH_CLIENT_ID_KEY]);
    return result[TWITCH_CLIENT_ID_KEY] ?? null;
}
async function setTwitchClientId(twitchClientId) {
    await chrome.storage.local.set({ twitchClientId });
}

;// CONCATENATED MODULE: ./src/background.ts

chrome.webRequest.onSendHeaders.addListener(function (details) {
    const headers = details.requestHeaders || [];
    for (const header of headers) {
        if ('Client-ID' === header.name) {
            const clientId = header.value;
            setTwitchClientId(clientId);
            console.log('Client-ID saved in client map');
        }
    }
}, { urls: ['*://gql.twitch.tv/gql/*'] }, ['requestHeaders']);
chrome.webNavigation.onHistoryStateUpdated.addListener(function (details) {
    console.log('New url:', details.url);
});

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFja2dyb3VuZC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLHlEQUF5RDtBQUV6RCxNQUFNLG9CQUFvQixHQUFHLGdCQUFnQixDQUFDO0FBRXZDLEtBQUssVUFBVSxpQkFBaUI7SUFDbkMsTUFBTSxNQUFNLEdBQUcsTUFBTSxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUM7SUFDdEUsT0FBTyxNQUFNLENBQUMsb0JBQW9CLENBQUMsSUFBSSxJQUFJLENBQUM7QUFDaEQsQ0FBQztBQUVNLEtBQUssVUFBVSxpQkFBaUIsQ0FBQyxjQUFzQjtJQUMxRCxNQUFNLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLGNBQWMsRUFBRSxDQUFDLENBQUM7QUFDdkQsQ0FBQzs7O0FDWHFEO0FBRXRELE1BQU0sQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FDdkMsVUFBVSxPQUFPO0lBQ2IsTUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLGNBQWMsSUFBSSxFQUFFLENBQUM7SUFDN0MsS0FBSyxNQUFNLE1BQU0sSUFBSSxPQUFPLEVBQUU7UUFDMUIsSUFBSSxXQUFXLEtBQUssTUFBTSxDQUFDLElBQUksRUFBRTtZQUM3QixNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDO1lBQzlCLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzVCLE9BQU8sQ0FBQyxHQUFHLENBQUMsK0JBQStCLENBQUMsQ0FBQztTQUNoRDtLQUNKO0FBQ0wsQ0FBQyxFQUNELEVBQUUsSUFBSSxFQUFFLENBQUMseUJBQXlCLENBQUMsRUFBRSxFQUNyQyxDQUFDLGdCQUFnQixDQUFDLENBQ3JCLENBQUM7QUFFRixNQUFNLENBQUMsYUFBYSxDQUFDLHFCQUFxQixDQUFDLFdBQVcsQ0FBQyxVQUFTLE9BQU87SUFDbkUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3pDLENBQUMsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdHdpdGNoX2F1ZGlvLy4vc3JjL2NsaWVudElkTWFuYWdlci50cyIsIndlYnBhY2s6Ly90d2l0Y2hfYXVkaW8vLi9zcmMvYmFja2dyb3VuZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb2RlIHNoYXJlZCBieSBib3RoIHNlcnZpY2Ugd29ya2VycyBhbmQgY29udGVudCBzY3JpcHRcblxuY29uc3QgVFdJVENIX0NMSUVOVF9JRF9LRVkgPSAndHdpdGNoQ2xpZW50SWQnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VHdpdGNoQ2xpZW50SWQoKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KFtUV0lUQ0hfQ0xJRU5UX0lEX0tFWV0pO1xuICAgIHJldHVybiByZXN1bHRbVFdJVENIX0NMSUVOVF9JRF9LRVldID8/IG51bGw7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRUd2l0Y2hDbGllbnRJZCh0d2l0Y2hDbGllbnRJZDogc3RyaW5nKSB7XG4gICAgYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgdHdpdGNoQ2xpZW50SWQgfSk7XG59XG4iLCJpbXBvcnQgeyBzZXRUd2l0Y2hDbGllbnRJZCB9IGZyb20gJy4vY2xpZW50SWRNYW5hZ2VyJztcblxuY2hyb21lLndlYlJlcXVlc3Qub25TZW5kSGVhZGVycy5hZGRMaXN0ZW5lcihcbiAgICBmdW5jdGlvbiAoZGV0YWlscykge1xuICAgICAgICBjb25zdCBoZWFkZXJzID0gZGV0YWlscy5yZXF1ZXN0SGVhZGVycyB8fCBbXTtcbiAgICAgICAgZm9yIChjb25zdCBoZWFkZXIgb2YgaGVhZGVycykge1xuICAgICAgICAgICAgaWYgKCdDbGllbnQtSUQnID09PSBoZWFkZXIubmFtZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsaWVudElkID0gaGVhZGVyLnZhbHVlO1xuICAgICAgICAgICAgICAgIHNldFR3aXRjaENsaWVudElkKGNsaWVudElkKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ2xpZW50LUlEIHNhdmVkIGluIGNsaWVudCBtYXAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgeyB1cmxzOiBbJyo6Ly9ncWwudHdpdGNoLnR2L2dxbC8qJ10gfSxcbiAgICBbJ3JlcXVlc3RIZWFkZXJzJ11cbik7XG5cbmNocm9tZS53ZWJOYXZpZ2F0aW9uLm9uSGlzdG9yeVN0YXRlVXBkYXRlZC5hZGRMaXN0ZW5lcihmdW5jdGlvbihkZXRhaWxzKSB7XG4gICAgY29uc29sZS5sb2coJ05ldyB1cmw6JywgZGV0YWlscy51cmwpO1xufSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9
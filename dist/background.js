/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
var __webpack_exports__ = {};

;// CONCATENATED MODULE: ./src/clientIdManager.ts
// Code shared by both service workers and content script
const TWITCH_CLIENT_ID_KEY = 'twitchClientId';
async function getTwitchClientId() {
    const result = await chrome.storage.local.get([TWITCH_CLIENT_ID_KEY]);
    return result[TWITCH_CLIENT_ID_KEY] ?? null;
}
async function setTwitchClientId(twitchClientId) {
    await chrome.storage.local.set({ twitchClientId });
}

;// CONCATENATED MODULE: ./src/background.ts

chrome.webRequest.onSendHeaders.addListener(function (details) {
    const headers = details.requestHeaders || [];
    for (const header of headers) {
        if ("Client-ID" === header.name) {
            const clientId = header.value;
            setTwitchClientId(clientId);
            console.log("Client-ID saved in client map");
        }
    }
}, { urls: ["*://gql.twitch.tv/gql/*"] }, ["requestHeaders"]);

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFja2dyb3VuZC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLHlEQUF5RDtBQUd6RCxNQUFNLG9CQUFvQixHQUFHLGdCQUFnQixDQUFDO0FBR3ZDLEtBQUssVUFBVSxpQkFBaUI7SUFDckMsTUFBTSxNQUFNLEdBQUcsTUFBTSxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUM7SUFDdEUsT0FBTyxNQUFNLENBQUMsb0JBQW9CLENBQUMsSUFBSSxJQUFJLENBQUM7QUFDOUMsQ0FBQztBQUdNLEtBQUssVUFBVSxpQkFBaUIsQ0FBQyxjQUFzQjtJQUM1RCxNQUFNLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLGNBQWMsRUFBRSxDQUFDLENBQUM7QUFDckQsQ0FBQzs7O0FDYnFEO0FBR3RELE1BQU0sQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxVQUFTLE9BQU87SUFDcEQsTUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLGNBQWMsSUFBSSxFQUFFLENBQUM7SUFDN0MsS0FBSSxNQUFNLE1BQU0sSUFBSSxPQUFPLEVBQUU7UUFDekIsSUFBRyxXQUFXLEtBQUssTUFBTSxDQUFDLElBQUksRUFBRTtZQUM1QixNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDO1lBQzlCLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzVCLE9BQU8sQ0FBQyxHQUFHLENBQUMsK0JBQStCLENBQUMsQ0FBQztTQUNoRDtLQUNKO0FBQ0wsQ0FBQyxFQUNELEVBQUMsSUFBSSxFQUFFLENBQUMseUJBQXlCLENBQUMsRUFBQyxFQUNuQyxDQUFDLGdCQUFnQixDQUFDLENBQ3JCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90d2l0Y2hfYXVkaW8vLi9zcmMvY2xpZW50SWRNYW5hZ2VyLnRzIiwid2VicGFjazovL3R3aXRjaF9hdWRpby8uL3NyYy9iYWNrZ3JvdW5kLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvZGUgc2hhcmVkIGJ5IGJvdGggc2VydmljZSB3b3JrZXJzIGFuZCBjb250ZW50IHNjcmlwdFxyXG5cclxuXHJcbmNvbnN0IFRXSVRDSF9DTElFTlRfSURfS0VZID0gJ3R3aXRjaENsaWVudElkJztcclxuXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VHdpdGNoQ2xpZW50SWQoKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KFtUV0lUQ0hfQ0xJRU5UX0lEX0tFWV0pO1xyXG4gIHJldHVybiByZXN1bHRbVFdJVENIX0NMSUVOVF9JRF9LRVldID8/IG51bGw7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2V0VHdpdGNoQ2xpZW50SWQodHdpdGNoQ2xpZW50SWQ6IHN0cmluZykge1xyXG4gIGF3YWl0IGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7IHR3aXRjaENsaWVudElkIH0pO1xyXG59IiwiXHJcbmltcG9ydCB7IHNldFR3aXRjaENsaWVudElkIH0gZnJvbSBcIi4vY2xpZW50SWRNYW5hZ2VyXCI7XHJcblxyXG5cclxuY2hyb21lLndlYlJlcXVlc3Qub25TZW5kSGVhZGVycy5hZGRMaXN0ZW5lcihmdW5jdGlvbihkZXRhaWxzKSB7XHJcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IGRldGFpbHMucmVxdWVzdEhlYWRlcnMgfHwgW107XHJcbiAgICAgICAgZm9yKGNvbnN0IGhlYWRlciBvZiBoZWFkZXJzKSB7XHJcbiAgICAgICAgICAgIGlmKFwiQ2xpZW50LUlEXCIgPT09IGhlYWRlci5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRJZCA9IGhlYWRlci52YWx1ZTtcclxuICAgICAgICAgICAgICAgIHNldFR3aXRjaENsaWVudElkKGNsaWVudElkKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2xpZW50LUlEIHNhdmVkIGluIGNsaWVudCBtYXBcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAge3VybHM6IFtcIio6Ly9ncWwudHdpdGNoLnR2L2dxbC8qXCJdfSxcclxuICAgIFtcInJlcXVlc3RIZWFkZXJzXCJdXHJcbik7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==